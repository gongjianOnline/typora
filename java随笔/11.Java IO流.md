# 11. Java I/O流

## 概述

流：抽象概念，对数据传出的总称；I/O流常用于设备间数据传输的问题，常见的应用：文件复制，上传，下载等；

- 数据的流向
  - 输入流：读数据
  - 输出流：写数据
- 根据数据类型
  - 字节流（万能流）
  - 字符流（能读懂的字符流）

## 创建输出流对象

示例

```java
FileOutPutStream fos = new FileOutPutStream(" 读写文件的路径 ",[boolean]);
/**写入数据*/
fos.write(byte);
/*释放IO资源*/
fos.close();
```

**注意：在实例化时设置第二个参数为 true 可以在同一文档追加写入**

---

## 创建输入流对象

示例：

```java
FileInputStream fis new FileInputSteam("读写文件的路径")；
int by = 0;
while((by=fis.read()) != -1){
     System.out.println((char)by);
}
```

综合示例--图片文件的复制写入

```java
public class Demo01 {
    public static void main(String[] args) throws IOException {
        /*读取的图片*/
        FileOutputStream fos = new FileOutputStream("./demo11/src/com/gongjian/demo/imgCopy.jpg");
        /*写入的图片*/
        FileInputStream fis = new FileInputStream("./demo11/src/com/gongjian/demo/img.jpg");
        /*读取文件每个字符后写入到文件中*/
        int by = 0;
        while ((by = fis.read())!=-1){
            fos.write(by);
        }
        fos.close();
    }
}
```

上面代码实现方式是没读取一个字节就往文件中写一个字节， 实现方式二，使用字节数组的方法减少IO操作

```java
public class Demo01{
    public static void main(String[] args) throws IOException{
        /*读取的图片*/
        FileOutputStream fos = new FileOutputStream("./demo11/src/com/gongjian/demo/imgCopy.jpg");
        /*写入的图片*/
        FileInputStream fis = new FileInputStream("./demo11/src/com/gongjian/demo/img.jpg");
        /*创建一个字节缓存数组*/
        byte[] by = new byte[1024];
        int len;
        while((len = fis.read(by)) != -1){
            fos.write(by,0,len);
        }
        fos.close();
        fis.close();
    }
}
```

---

## 字节输入输出缓冲区

### BufferedOutPutStream

该类时间缓冲输出流，通过设置这样输出流程序可向底层输出流写入字节流，而不必为写入每个字节而导致底层系统的调用

### BufferedInputStream

用于创建一个内部缓冲区数组，当从流中读取或跳过字节时，内部缓冲区将根据需要从所包含的输入流中重新填充，一次多个字节

---



