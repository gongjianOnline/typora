# mysql起手式

## 连接本地数据库

```shell
mysql -uroot -pxxx;
```

## 库操作

### 创建

```shell
create database dbname charset utf8;
```

### 进入库

```shell
use dbname;
```

### 查看格式

```shell
show create database dbname;
```

### 删除库

```shell
drop database id exists dbname;
```

### 执行sql文件创建数据库

创建一个 `sql.sql` 文件

```sql
create database dbname charset utf8;
use dbname;
```

执行创建脚本

```shell
mysql -uroot -p < sql.sql;
```

## 表操作

### 创建表

```shell
create table class (id int PRIMARY KEY AUTO_INCREMENT,cname varchar(10) not null,description varchar(100) null);
```

### 查看表字段类型

```shell 
desc class
```

### 删除表

```shell
drop table if exists class
```

### 简单添加

```shall
/*方式一*/
INSERT INTO class set cname="测试",decript="描述";
/*方式二*/
INSERT INTO class (cname,descript) VALUES ("测试1","描述1"),("测试2","描述2")
```

## 复制表

```shell
/*方式一*/
create table test like class; /*依赖 class 字段类型创建 test 表*/
desc test;
insert into test select * from class; /*将 class 表的全部数据插入到 test 表*/
insert info test(cname) select cname from class; /*指定 cname 字段从 class 表中插入到 test*/

/*方式二*/
create table a select * from class; /*快捷方式,创建 a 表 直接将 class 表的数据复制到 a 中*/
/*创建 b 表和相关字段, 将指定的 class 表中的 cname 字段数据复制到 b 表中*/
create table b (id in int PRIMARY KEY AUTO_INCREMENT,cname varchar(10) not null) select cname from class;
```

## 查询表

```
select * from class; /*查询 class 表的全部数据*/
select Id,cname from class; /*查询 class 中 id 和 cname 字段的数据*/
select id,cname as name from class; /*将 cname 别名为 name*/
select * from class where cname like "%p%";/*查找 class 表中 cname 字段中包含 p 的*/
```

